{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EACL,YAAY,EACZ,QAAQ,EACR,6BAA6B,EAC7B,SAAS,EACT,iBAAiB,GAClB,MAAM,oBAAoB,CAAC;AAc5B,MAAM,OAAO,oBACX,SAAQ,SAAS;IAGV,KAAK,CAAC,gBAAgB;QAC3B,MAAM,IAAI,CAAC,aAAa,CAAC,yBAAyB,CAAC,CAAC;IACtD,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,OAAyB;QAC9C,MAAM,SAAS,GAAG,YAAY,EAAE,CAAC;QACjC,SAAS,CAAC,SAAS,EAAE,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC;IAC7C,CAAC;IAEM,KAAK,CAAC,eAAe,CAAC,OAA+B;QAC1D,MAAM,SAAS,GAAG,YAAY,EAAE,CAAC;QACjC,iBAAiB,CAAC,SAAS,EAAE;YAC3B,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,KAAK;SAC7B,CAAC,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,gBAAgB,CAC3B,OAAgC;QAEhC,MAAM,SAAS,GAAG,YAAY,EAAE,CAAC;QACjC,QAAQ,CAAC,SAAS,EAAE,aAAa,EAAE;YACjC,eAAe,EAAE,OAAO,CAAC,UAAU,IAAI,SAAS;YAChD,qBAAqB,EAAE,OAAO,CAAC,mBAAmB,IAAI,SAAS;SAChE,CAAC,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,OAAwB;QAC5C,MAAM,SAAS,GAAG,YAAY,EAAE,CAAC;QACjC,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;IACpD,CAAC;IAEM,KAAK,CAAC,yBAAyB,CACpC,QAA0C;QAE1C,MAAM,IAAI,CAAC,aAAa,CAAC,yBAAyB,CAAC,CAAC;IACtD,CAAC;IAEM,KAAK,CAAC,UAAU,CAAC,QAA2B;QACjD,MAAM,SAAS,GAAG,YAAY,EAAE,CAAC;QACjC,6BAA6B,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC7D,CAAC;IAEM,KAAK,CAAC,SAAS;QACpB,MAAM,OAAO,GAAI,MAAc,CAAC,wBAAwB,CAAC,KAAK,IAAI,CAAC;QACnE,OAAO;YACL,OAAO;SACR,CAAC;IACJ,CAAC;IAEM,KAAK,CAAC,kBAAkB;QAC7B,MAAM,IAAI,CAAC,aAAa,CAAC,yBAAyB,CAAC,CAAC;IACtD,CAAC;CACF","sourcesContent":["import { WebPlugin } from '@capacitor/core';\nimport {\n  getAnalytics,\n  logEvent,\n  setAnalyticsCollectionEnabled,\n  setUserId,\n  setUserProperties,\n} from 'firebase/analytics';\n\nimport type {\n  FirebaseAnalyticsPlugin,\n  GetAppInstanceIdResult,\n  IsEnabledResult,\n  LogEventOptions,\n  SetCurrentScreenOptions,\n  SetEnabledOptions,\n  SetSessionTimeoutDurationOptions,\n  SetUserIdOptions,\n  SetUserPropertyOptions,\n} from './definitions';\n\nexport class FirebaseAnalyticsWeb\n  extends WebPlugin\n  implements FirebaseAnalyticsPlugin\n{\n  public async getAppInstanceId(): Promise<GetAppInstanceIdResult> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n\n  public async setUserId(options: SetUserIdOptions): Promise<void> {\n    const analytics = getAnalytics();\n    setUserId(analytics, options.userId || '');\n  }\n\n  public async setUserProperty(options: SetUserPropertyOptions): Promise<void> {\n    const analytics = getAnalytics();\n    setUserProperties(analytics, {\n      [options.key]: options.value,\n    });\n  }\n\n  public async setCurrentScreen(\n    options: SetCurrentScreenOptions,\n  ): Promise<void> {\n    const analytics = getAnalytics();\n    logEvent(analytics, 'screen_view', {\n      firebase_screen: options.screenName || undefined,\n      firebase_screen_class: options.screenClassOverride || undefined,\n    });\n  }\n\n  public async logEvent(options: LogEventOptions): Promise<void> {\n    const analytics = getAnalytics();\n    logEvent(analytics, options.name, options.params);\n  }\n\n  public async setSessionTimeoutDuration(\n    _options: SetSessionTimeoutDurationOptions,\n  ): Promise<void> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n\n  public async setEnabled(_options: SetEnabledOptions): Promise<void> {\n    const analytics = getAnalytics();\n    setAnalyticsCollectionEnabled(analytics, _options.enabled);\n  }\n\n  public async isEnabled(): Promise<IsEnabledResult> {\n    const enabled = (window as any)['ga-disable-analyticsId'] === true;\n    return {\n      enabled,\n    };\n  }\n\n  public async resetAnalyticsData(): Promise<void> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n}\n"]}